# Face-recognition-access-control-system

【嵌入式】实训时用 树莓派、Arduino 做的 人脸识别门禁系统。存档用。


完成时间：2022年12月24日  

完整图文报告见doc文档_(:з」∠)_


# 二、系统的总体设计	2
## 2.1 人脸识别门禁系统方案设计（设计流程图）	2
## 2.2 系统主要功能实现	2   
1.调用百度智能云提供的人脸识别服务构建人脸库并实现人脸识别功能；  
2.利用树莓派的蓝牙功能向Arduino传输数据控制舵机；  
3.利用舵机模拟开关门场景；  
# 三、人脸识别API的调用和树莓派环境的构建	3
## 3.1 安装树莓派系统	3
## 3.2 百度智能云API的使用及介绍..	3
## 3.3 树莓派运行环境的搭建	4
# 四、Arduino外接蓝牙控制舵机	5
## 4.1 arduino模块程序烧录	5
## 4.2总体设计	5

  
# 总结与提高	
1.在Arduino IDE中进行ArduinoR3烧录程序，但是烧录几次都是都显示失败，经过查找原因是烧录过程中需要正确选择开发板型号、端口，但在正确选择后再一次进行烧录仍显示失败，经过查找发现是因为在烧录时已经将蓝牙、舵机、ArduinoR3已经连接，蓝牙占用了串口导致无法烧录程序。我们先暂时移除蓝牙模块，仅将ArduinoR3与电脑连接最终完成了程序的烧录，烧录成功后再进行蓝牙模块的连接，问题得以解决。  
2.各硬件连接问题，由于对面包板的不熟悉，在连接硬件时，发现硬件不能处于工作状态中，经过搜索得知面包板相通的位置，因为舵机与蓝牙都需要与Arduino的GND、V5进行连接，但只有一个接口，所以需要通过面包板相通来解决以上的问题。各硬件连接后仍发现不能工作，经排查发现主要是两个原因，第一Arduino没有与电脑连接；第二是Arduino没有烧录程序。发现原因后已一一解决。  
3.烧录树莓派系统遇到两个问题，VNC无法打开，树莓派无法开机，解决方法是换一张SD卡重新烧录系统。  
4.为了解决没有显示屏的问题，通过无线和有线的方法查找树莓派地址，最后实现在win10系统上远程登陆、控制。  
5.将Windows的文件传入树莓派的问题，解决方案是下载winscp，通过ip连接后即可传输文件。  
6.人脸无法检测的问题。在这一环节出现的主要问题是人脸无法上传，终端只显示无法检测到人脸，报错提示是在上传api部分出现错误，在修改代码之后仍旧没有解决，在查看人脸库后台发现没有新增调用记录，最后确定问题出现原因在此。查阅百度智能云相关文档之后发现我们在人脸识别功能里已经没有相关的人脸调用权限，开启权限以及增加使用次数之后问题解决。  
7.摄像头的问题，第一次出现问题的原因是摄像头接口插反，第二次出现摄像头故障问题是在运行测试时提示未能检测到摄像头设备，经排查，推测是由于摄像头工作时间过长导致摄像头已经烧坏。更换摄像头后问题解决。  
# 系统改进
在听取答辩时老师给的建议以及旁观其他小组的项目答辩之后，我们认为本系统仍有以下方面可以改进：  
1.在拍摄人脸时可以实时显示摄像头拍摄的画面。在有显示屏的情况下实时显示会更方便用户调整拍摄的位置与距离、方便摄像头聚焦，从而提高识别效率。  
2.在树莓派本身仍有剩余串口时可以直接使用其串口，就不必进行多余的桥接。  
3.本系统是用蓝牙无线传输数据，而使用有线的方法会比无线更为稳定可靠。  
4.舵机上的部件旋转可以模拟开关门，也许还可以改装成窗帘的开关、热水器的开关等需要物理旋转的部件。  
5.添加语音识别、添加不同led灯，实现语音控制开关灯。结合4或许可实现更多功能的智能家居系统。  

